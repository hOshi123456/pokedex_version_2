(function(){"use strict";var e={8696:function(e,t,o){var a=o(5130),s=o(6768),n=o(4232);const i={class:"app-header"},l={class:"header-controls"},r=["title"],c={key:0,class:"pokemon-counter"},d={key:0,class:"stats-dashboard"},p={class:"dashboard-header"},u={class:"stats-grid"},h={class:"stat-card caught"},m={class:"stat-content"},g={class:"stat-number"},k={class:"stat-percentage"},v={class:"stat-card total"},f={class:"stat-content"},C={class:"stat-number"},y={class:"stat-card progress"},b={class:"stat-content"},P={class:"progress-bar"},w={class:"stat-percentage"},L={class:"stat-card types"},S={class:"stat-content"},E={class:"types-mini-chart"},x={class:"type-name"},D={class:"mini-bar"},T={class:"type-count"};function F(e,t,o,a,F,A){const I=(0,s.g2)("PokedexView");return(0,s.uX)(),(0,s.CE)("div",{id:"app",class:(0,n.C4)({"dark-theme":F.isDarkMode})},[(0,s.Lk)("header",i,[(0,s.Lk)("div",l,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>A.toggleDarkMode&&A.toggleDarkMode(...e)),class:"theme-toggle",title:F.isDarkMode?"Modo Claro":"Modo Oscuro"},(0,n.v_)(F.isDarkMode?"☀️":"🌙"),9,r),(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>F.showStats=!F.showStats),class:(0,n.C4)(["stats-toggle",{active:F.showStats}])}," 📊 Dashboard ",2)]),t[3]||(t[3]=(0,s.Lk)("h1",{class:"app-title"},[(0,s.Lk)("span",{class:"pokeball-icon"},"⚪"),(0,s.eW)(" Pokédex ")],-1)),t[4]||(t[4]=(0,s.Lk)("p",{class:"app-subtitle"},"Explora y descubre todos los Pokémon",-1)),F.totalPokemons>0?((0,s.uX)(),(0,s.CE)("div",c,(0,n.v_)(F.filteredCount)+" de "+(0,n.v_)(F.totalPokemons)+" Pokémon encontrados ",1)):(0,s.Q3)("",!0)]),F.showStats?((0,s.uX)(),(0,s.CE)("div",d,[(0,s.Lk)("div",p,[t[5]||(t[5]=(0,s.Lk)("h2",null,"📊 Dashboard Estadístico",-1)),(0,s.Lk)("button",{onClick:t[2]||(t[2]=e=>F.showStats=!1),class:"close-dashboard"},"✕")]),(0,s.Lk)("div",u,[(0,s.Lk)("div",h,[t[7]||(t[7]=(0,s.Lk)("div",{class:"stat-icon"},"🎯",-1)),(0,s.Lk)("div",m,[t[6]||(t[6]=(0,s.Lk)("h3",null,"Pokémon Atrapados",-1)),(0,s.Lk)("div",g,(0,n.v_)(F.caughtCount),1),(0,s.Lk)("div",k,(0,n.v_)(A.caughtPercentage)+"% del total",1)])]),(0,s.Lk)("div",v,[t[10]||(t[10]=(0,s.Lk)("div",{class:"stat-icon"},"📚",-1)),(0,s.Lk)("div",f,[t[8]||(t[8]=(0,s.Lk)("h3",null,"Total Pokémon",-1)),(0,s.Lk)("div",C,(0,n.v_)(F.totalPokemons),1),t[9]||(t[9]=(0,s.Lk)("div",{class:"stat-percentage"},"Pokédex Nacional",-1))])]),(0,s.Lk)("div",y,[t[12]||(t[12]=(0,s.Lk)("div",{class:"stat-icon"},"🏆",-1)),(0,s.Lk)("div",b,[t[11]||(t[11]=(0,s.Lk)("h3",null,"Progreso",-1)),(0,s.Lk)("div",P,[(0,s.Lk)("div",{class:"progress-fill",style:(0,n.Tr)({width:A.caughtPercentage+"%"})},null,4)]),(0,s.Lk)("div",w,(0,n.v_)(F.caughtCount)+" / "+(0,n.v_)(F.totalPokemons),1)])]),(0,s.Lk)("div",L,[t[14]||(t[14]=(0,s.Lk)("div",{class:"stat-icon"},"🌈",-1)),(0,s.Lk)("div",S,[t[13]||(t[13]=(0,s.Lk)("h3",null,"Tipos Más Atrapados",-1)),(0,s.Lk)("div",E,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(F.topCaughtTypes,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"mini-type-bar"},[(0,s.Lk)("span",x,(0,n.v_)(t),1),(0,s.Lk)("div",D,[(0,s.Lk)("div",{class:"mini-fill",style:(0,n.Tr)({width:e/Math.max(...Object.values(F.topCaughtTypes))*100+"%",backgroundColor:A.getTypeColor(t)})},null,4)]),(0,s.Lk)("span",T,(0,n.v_)(e),1)])))),128))])])])])])):(0,s.Q3)("",!0),(0,s.Lk)("main",null,[(0,s.bF)(I,{ref:"pokedexView","search-query":F.searchQuery,"is-dark-mode":F.isDarkMode,onUpdateStats:A.updateStats,onUpdateSearch:A.updateSearch,onExportData:A.handleExportCSV,onExportError:A.handleExportError},null,8,["search-query","is-dark-mode","onUpdateStats","onUpdateSearch","onExportData","onExportError"])]),F.exportMessage?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,n.C4)(["export-notification",F.exportMessageType])},(0,n.v_)(F.exportMessage),3)):(0,s.Q3)("",!0),t[15]||(t[15]=(0,s.Lk)("footer",{class:"app-footer"},[(0,s.Lk)("small",null,[(0,s.eW)("Datos obtenidos de "),(0,s.Lk)("a",{href:"https://pokeapi.co",target:"_blank",rel:"noopener noreferrer"},"PokéAPI")])],-1))],2)}o(8111),o(116),o(1701);const A={key:0,class:"loading-container"};function I(e,t,o,a,i,l){const r=(0,s.g2)("PokedexGrid"),c=(0,s.g2)("PokemonModal");return(0,s.uX)(),(0,s.CE)("div",{class:(0,n.C4)(["pokedex-view",{"dark-theme":o.isDarkMode}])},[i.loading?((0,s.uX)(),(0,s.CE)("div",A,t[0]||(t[0]=[(0,s.Lk)("div",{class:"pokeball-loader"},null,-1),(0,s.Lk)("p",null,"Cargando Pokémon...",-1)]))):((0,s.uX)(),(0,s.Wv)(r,{key:1,pokemons:i.filteredPokemons,isDarkMode:o.isDarkMode,caughtPokemons:i.caughtPokemons,onPokemonSelected:l.showPokemonDetails,onToggleCaught:l.toggleCaught},null,8,["pokemons","isDarkMode","caughtPokemons","onPokemonSelected","onToggleCaught"])),i.showModal?((0,s.uX)(),(0,s.Wv)(c,{key:2,visible:i.showModal,pokemon:i.selectedPokemon,isDarkMode:o.isDarkMode,isCaught:!!i.selectedPokemon&&l.isCaught(i.selectedPokemon.id),onClose:l.closeModal,onToggleCaught:l.toggleCaught,onSelectPokemon:l.selectPokemonByName},null,8,["visible","pokemon","isDarkMode","isCaught","onClose","onToggleCaught","onSelectPokemon"])):(0,s.Q3)("",!0)],2)}o(4114),o(2489),o(7588),o(3579),o(7642),o(8004),o(3853),o(5876),o(2475),o(5024),o(1698);const M={key:0,class:"loading-container"},_={key:1,class:"controls-bar"},G={class:"search-container"},$={class:"filter-buttons"},N={class:"view-controls"},R={class:"stats"},V={class:"stat-item"},U={class:"stat-item"},O={key:2,class:"advanced-filters"},B={class:"filter-row"},X={class:"filter-group"},j={class:"filter-group"},z=["value"],Q={class:"filter-group"},K={class:"filter-group"},W={class:"filter-row"},H={class:"filter-group type-badges"},q={class:"type-filter-badges"},J=["onClick"],Y={key:3,class:"selection-info"},Z={class:"selection-content"},ee={class:"selection-actions"};function te(e,t,o,i,l,r){const c=(0,s.g2)("ag-grid-vue");return(0,s.uX)(),(0,s.CE)("div",null,[o.loading?((0,s.uX)(),(0,s.CE)("div",M,t[19]||(t[19]=[(0,s.Lk)("div",{class:"pokeball-loader"},null,-1),(0,s.Lk)("p",null,"Cargando Pokémon...",-1)]))):((0,s.uX)(),(0,s.CE)("div",_,[(0,s.Lk)("div",G,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.quickFilterText=e),placeholder:"Buscar Pokémon...",class:"search-input",onInput:t[1]||(t[1]=(...e)=>r.onQuickFilterChanged&&r.onQuickFilterChanged(...e))},null,544),[[a.Jo,l.quickFilterText]]),t[20]||(t[20]=(0,s.Lk)("span",{class:"search-icon"},"🔍",-1))]),(0,s.Lk)("div",$,[(0,s.Lk)("button",{class:(0,n.C4)(["filter-btn",{active:l.onlyShowCaught}]),onClick:t[2]||(t[2]=(...e)=>r.toggleCaughtFilter&&r.toggleCaughtFilter(...e))}," 🔴 Solo Atrapados ",2),(0,s.Lk)("button",{class:(0,n.C4)(["filter-btn",{active:l.showAdvancedFilters}]),onClick:t[3]||(t[3]=(...e)=>r.toggleAdvancedFilters&&r.toggleAdvancedFilters(...e))}," ⚙️ Filtros ",2),(0,s.Lk)("button",{class:"filter-btn",onClick:t[4]||(t[4]=(...e)=>r.clearAllFilters&&r.clearAllFilters(...e))}," 🗑️ Limpiar ")]),(0,s.Lk)("div",N,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.pageSize=e),onChange:t[6]||(t[6]=(...e)=>r.onPageSizeChanged&&r.onPageSizeChanged(...e)),class:"page-size-select"},t[21]||(t[21]=[(0,s.Lk)("option",{value:"10"},"10 por página",-1),(0,s.Lk)("option",{value:"20"},"20 por página",-1),(0,s.Lk)("option",{value:"50"},"50 por página",-1),(0,s.Lk)("option",{value:"100"},"100 por página",-1)]),544),[[a.u1,l.pageSize]]),(0,s.Lk)("div",R,[(0,s.Lk)("span",V,[t[22]||(t[22]=(0,s.eW)(" Total: ")),(0,s.Lk)("strong",null,(0,n.v_)(l.filteredCount),1)]),(0,s.Lk)("span",U,[t[23]||(t[23]=(0,s.eW)(" Atrapados: ")),(0,s.Lk)("strong",null,(0,n.v_)(r.caughtCount),1)])])])])),l.showAdvancedFilters&&!o.loading?((0,s.uX)(),(0,s.CE)("div",O,[(0,s.Lk)("div",B,[(0,s.Lk)("div",X,[t[25]||(t[25]=(0,s.Lk)("label",null,"Generación:",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.selectedGeneration=e),onChange:t[8]||(t[8]=(...e)=>r.applyAdvancedFilters&&r.applyAdvancedFilters(...e))},t[24]||(t[24]=[(0,s.Fv)('<option value="" data-v-17947933>Todas</option><option value="I" data-v-17947933>Gen I</option><option value="II" data-v-17947933>Gen II</option><option value="III" data-v-17947933>Gen III</option><option value="IV" data-v-17947933>Gen IV</option><option value="V" data-v-17947933>Gen V</option><option value="VI" data-v-17947933>Gen VI</option><option value="VII" data-v-17947933>Gen VII</option><option value="VIII" data-v-17947933>Gen VIII</option><option value="IX" data-v-17947933>Gen IX</option>',10)]),544),[[a.u1,l.selectedGeneration]])]),(0,s.Lk)("div",j,[t[27]||(t[27]=(0,s.Lk)("label",null,"Tipo:",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.selectedType=e),onChange:t[10]||(t[10]=(...e)=>r.applyAdvancedFilters&&r.applyAdvancedFilters(...e))},[t[26]||(t[26]=(0,s.Lk)("option",{value:""},"Todos",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.availableTypes,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,n.v_)(e),9,z)))),128))],544),[[a.u1,l.selectedType]])]),(0,s.Lk)("div",Q,[t[28]||(t[28]=(0,s.Lk)("label",null,"ID Desde:",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.idFrom=e),type:"number",min:"1",max:"1010",onInput:t[12]||(t[12]=(...e)=>r.applyAdvancedFilters&&r.applyAdvancedFilters(...e)),class:"number-input"},null,544),[[a.Jo,l.idFrom,void 0,{number:!0}]])]),(0,s.Lk)("div",K,[t[29]||(t[29]=(0,s.Lk)("label",null,"ID Hasta:",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.idTo=e),type:"number",min:"1",max:"1010",onInput:t[14]||(t[14]=(...e)=>r.applyAdvancedFilters&&r.applyAdvancedFilters(...e)),class:"number-input"},null,544),[[a.Jo,l.idTo,void 0,{number:!0}]])])]),(0,s.Lk)("div",W,[(0,s.Lk)("div",H,[t[30]||(t[30]=(0,s.Lk)("label",null,"Filtrar por tipos múltiples:",-1)),(0,s.Lk)("div",q,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.availableTypes,(e=>((0,s.uX)(),(0,s.CE)("button",{key:e,class:(0,n.C4)(["type-filter-badge",{active:l.selectedTypes.includes(e)}]),style:(0,n.Tr)({backgroundColor:l.selectedTypes.includes(e)?r.getTypeColor(e):""}),onClick:t=>r.toggleTypeFilter(e)},(0,n.v_)(e),15,J)))),128))])])])])):(0,s.Q3)("",!0),l.selectedRows.length>0&&!o.loading?((0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("div",Z,[(0,s.Lk)("span",null,(0,n.v_)(l.selectedRows.length)+" Pokémon seleccionado(s)",1),(0,s.Lk)("div",ee,[(0,s.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>r.markSelectedAsCaught&&r.markSelectedAsCaught(...e)),class:"action-btn catch-btn"}," 🔴 Marcar como Atrapados "),(0,s.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>r.markSelectedAsNotCaught&&r.markSelectedAsNotCaught(...e)),class:"action-btn release-btn"}," ⚪ Marcar como No Atrapados "),(0,s.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>r.exportSelected&&r.exportSelected(...e)),class:"action-btn export-btn"}," 📤 Exportar Selección "),(0,s.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>r.clearSelection&&r.clearSelection(...e)),class:"action-btn clear-btn"}," ❌ Limpiar Selección ")])])])):(0,s.Q3)("",!0),o.loading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(c,{key:4,ref:"agGrid",class:(0,n.C4)(["ag-theme-alpine pokemon-grid",{"ag-theme-alpine-dark":o.isDarkMode}]),rowData:l.filteredPokemons,columnDefs:l.columnDefs,defaultColDef:l.defaultColDef,pagination:!0,paginationPageSize:l.pageSize,domLayout:"autoHeight",suppressClickEdit:!0,rowSelection:"multiple",suppressCellFocus:!0,suppressRowHoverHighlight:!1,onCellClicked:r.onCellClicked,onSelectionChanged:r.onSelectionChanged,onRowClicked:r.onRowClicked,onRowDoubleClicked:r.onRowDoubleClicked,onCellDoubleClicked:r.onCellDoubleClicked,onSortChanged:r.onSortChanged,onFilterChanged:r.onFilterChanged,onPaginationChanged:r.onPaginationChanged,rowHeight:80,headerHeight:50,animateRows:!0,enableRangeSelection:!0,suppressMultiRangeSelection:!1,rowMultiSelectWithClick:!0,suppressRowDeselection:!1,enableCellTextSelection:!0,suppressMenuHide:!1,allowContextMenuWithControlKey:!0,getContextMenuItems:r.getContextMenuItems,statusBar:l.statusBarConfig,sideBar:l.sidebarConfig},null,8,["class","rowData","columnDefs","defaultColDef","paginationPageSize","onCellClicked","onSelectionChanged","onRowClicked","onRowDoubleClicked","onCellDoubleClicked","onSortChanged","onFilterChanged","onPaginationChanged","getContextMenuItems","statusBar","sideBar"]))])}var oe=o(7277),ae={name:"PokedexGrid",components:{AgGridVue:oe.b},props:{pokemons:{type:Array,default:()=>[]},isDarkMode:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},caughtPokemons:{type:Set,default:()=>new Set}},data(){return{columnDefs:[],defaultColDef:{flex:1,minWidth:100,resizable:!0,sortable:!0,filter:!0,floatingFilter:!1,menuTabs:["filterMenuTab","generalMenuTab"]},pageSize:20,quickFilterText:"",filteredPokemons:[],filteredCount:0,onlyShowCaught:!1,showAdvancedFilters:!1,selectedGeneration:"",selectedType:"",selectedTypes:[],idFrom:null,idTo:null,selectedRows:[],availableTypes:["normal","fire","water","electric","grass","ice","fighting","poison","ground","flying","psychic","bug","rock","ghost","dragon","dark","steel","fairy"],statusBarConfig:{statusPanels:[{statusPanel:"agTotalRowCountComponent",align:"left"},{statusPanel:"agFilteredRowCountComponent"},{statusPanel:"agSelectedRowCountComponent"},{statusPanel:"agAggregationComponent"}]},sidebarConfig:{toolPanels:[{id:"columns",labelDefault:"Columnas",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0,suppressPivots:!0,suppressPivotMode:!0,suppressColumnFilter:!1,suppressColumnSelectAll:!1,suppressColumnExpandAll:!1}},{id:"filters",labelDefault:"Filtros",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}],defaultToolPanel:""}}},computed:{caughtCount(){return this.filteredPokemons.filter((e=>this.isCaught(e.id))).length}},watch:{pokemons:{handler:"updateFilteredPokemons",immediate:!0,deep:!0},caughtPokemons:{handler:"updateFilteredPokemons",deep:!0},isDarkMode:{handler:"setupColumnDefs",immediate:!0}},created(){this.setupColumnDefs()},methods:{setupColumnDefs(){const e=this;this.columnDefs=[{headerName:"#",field:"id",filter:"agNumberColumnFilter",width:80,pinned:"left",checkboxSelection:!0,headerCheckboxSelection:!0,sortable:!0,cellStyle:{fontWeight:"bold",color:this.isDarkMode?"#d1d5db":"#666",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px"},cellRenderer:e=>`#${String(e.value).padStart(3,"0")}`,filterParams:{buttons:["reset","apply"],closeOnApply:!0,filterOptions:["equals","lessThan","greaterThan","inRange"]}},{headerName:"⚪",field:"caught",sortable:!0,filter:"agSetColumnFilter",width:60,cellRenderer:e=>{const t=document.createElement("div");t.className="catch-status-cell-mini";const o=document.createElement("button");return o.className="mini-catch-btn-small",o.innerHTML=this.isCaught(e.data.id)?"🔴":"⚪",o.title=this.isCaught(e.data.id)?"Atrapado":"No atrapado",o.addEventListener("click",(t=>{t.stopPropagation(),this.$emit("toggle-caught",e.data)})),t.appendChild(o),t},valueGetter:e=>this.isCaught(e.data.id)?"Atrapado":"No atrapado",filterParams:{values:["Atrapado","No atrapado"]}},{headerName:"Imagen",field:"image",sortable:!1,filter:!1,width:90,cellRenderer:e=>{const t=document.createElement("div");if(t.className="pokemon-cell-image-small",e.value){const o=document.createElement("img");o.src=e.value,o.alt=e.data.name||"Pokemon",o.loading="lazy",o.onerror=()=>{o.src=this.getFallbackImage(e.data.id)},t.appendChild(o)}else{const e=document.createElement("div");e.className="image-placeholder",e.textContent="?",t.appendChild(e)}return t}},{headerName:"Nombre",field:"name",filter:"agTextColumnFilter",width:140,cellStyle:{fontWeight:"600",textTransform:"capitalize",fontSize:"13px",color:this.isDarkMode?"#f9fafb":"#2c3e50"},cellRenderer:function(t){const o=document.createElement("div");o.className="pokemon-name-cell";const a=document.createElement("span");return a.textContent=t.value,a.style.cursor="pointer",a.style.textDecoration="underline",a.title="Click para ver detalles",a.addEventListener("click",(o=>{o.stopPropagation(),e.openPokemonModal(t.data)})),o.appendChild(a),o},filterParams:{buttons:["reset","apply"],closeOnApply:!0,filterOptions:["contains","startsWith","endsWith","equals"]}},{headerName:"Tipos",field:"typesFormatted",filter:"agSetColumnFilter",width:170,cellRenderer:e=>{if(e.data.types&&e.data.types.length>0){const t=document.createElement("div");return t.className="types-cell-improved",e.data.types.forEach(((e,o)=>{const a=document.createElement("span");a.textContent=e,a.className="type-improved-badge",a.style.backgroundColor=this.getTypeColor(e),o>0&&(a.style.marginTop="2px"),t.appendChild(a)})),t}return""},valueGetter:e=>e.data.types?e.data.types.join(", "):"",filterParams:{values:this.availableTypes}},{headerName:"Gen",field:"generationShort",filter:"agSetColumnFilter",width:90,cellStyle:{fontSize:"11px",fontWeight:"500",color:this.isDarkMode?"#9ca3af":"#555",textAlign:"center"},filterParams:{values:["I","II","III","IV","V","VI","VII","VIII","IX"]}},{headerName:"Altura",field:"height",filter:"agNumberColumnFilter",width:100,cellRenderer:e=>e.value?`${e.value} m`:"-",filterParams:{buttons:["reset","apply"],closeOnApply:!0}},{headerName:"Peso",field:"weight",filter:"agNumberColumnFilter",width:100,cellRenderer:e=>e.value?`${e.value} kg`:"-",filterParams:{buttons:["reset","apply"],closeOnApply:!0}},{headerName:"Stats Base",field:"baseStatsTotal",filter:"agNumberColumnFilter",width:120,cellRenderer:e=>{const t=e.value||0,o=document.createElement("div"),a=document.createElement("div"),s=document.createElement("span");o.className="stats-cell",a.className="stats-bar",s.textContent=t.toString();const n=Math.min(t/800*100,100);return a.style.width=`${n}%`,a.style.backgroundColor=t>=600?"#10b981":t>=500?"#f59e0b":"#ef4444",o.appendChild(a),o.appendChild(s),o},filterParams:{buttons:["reset","apply"],closeOnApply:!0}},{headerName:"Acciones",field:"actions",sortable:!1,filter:!1,width:120,pinned:"right",cellRenderer:function(t){const o=document.createElement("div");o.className="actions-cell";const a=document.createElement("button");a.innerHTML="👁️",a.className="action-btn-small details-btn",a.title="Ver detalles",a.addEventListener("click",(o=>{o.stopPropagation(),console.log("[DEBUG] Click en botón de detalles, emitiendo evento con:",t.data),e.$emit("pokemon-selected",t.data)}));const s=e.selectedRows.some((e=>e.id===t.data.id));if(s){const a=document.createElement("button");a.innerHTML="❌",a.className="action-btn-small deselect-btn",a.title="Deseleccionar",a.addEventListener("click",(o=>{o.stopPropagation(),e.deselectPokemon(t.data)})),o.appendChild(a)}return o.appendChild(a),o}}]},openPokemonModal(e){this.$emit("pokemon-selected",e)},deselectPokemon(e){if(this.$refs.agGrid&&this.$refs.agGrid.api){const t=this.$refs.agGrid.api.getRowNode(e.id.toString());t&&t.setSelected(!1)}},updateFilteredPokemons(){let e=[...this.pokemons];if(this.onlyShowCaught&&(e=e.filter((e=>this.isCaught(e.id)))),this.selectedGeneration&&(e=e.filter((e=>e.generationShort===this.selectedGeneration))),this.selectedType&&(e=e.filter((e=>e.types&&e.types.some((e=>e.toLowerCase()===this.selectedType.toLowerCase()))))),this.selectedTypes.length>0&&(e=e.filter((e=>e.types&&this.selectedTypes.some((t=>e.types.some((e=>e.toLowerCase()===t.toLowerCase()))))))),null!==this.idFrom&&""!==this.idFrom&&(e=e.filter((e=>e.id>=this.idFrom))),null!==this.idTo&&""!==this.idTo&&(e=e.filter((e=>e.id<=this.idTo))),this.quickFilterText){const t=this.quickFilterText.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.id.toString().includes(t)||e.types&&e.types.some((e=>e.toLowerCase().includes(t)))))}this.filteredPokemons=e,this.filteredCount=e.length},onQuickFilterChanged(){this.updateFilteredPokemons()},toggleCaughtFilter(){this.onlyShowCaught=!this.onlyShowCaught,this.updateFilteredPokemons()},toggleAdvancedFilters(){this.showAdvancedFilters=!this.showAdvancedFilters},applyAdvancedFilters(){this.updateFilteredPokemons()},toggleTypeFilter(e){const t=this.selectedTypes.indexOf(e);t>-1?this.selectedTypes.splice(t,1):this.selectedTypes.push(e),this.updateFilteredPokemons()},clearAllFilters(){this.quickFilterText="",this.onlyShowCaught=!1,this.selectedGeneration="",this.selectedType="",this.selectedTypes=[],this.idFrom=null,this.idTo=null,this.$refs.agGrid&&this.$refs.agGrid.api&&this.$refs.agGrid.api.setFilterModel(null),this.updateFilteredPokemons()},onCellClicked(e){e&&e.data&&e.colDef&&"caught"!==e.colDef.field&&"actions"!==e.colDef.field&&this.$emit("cell-clicked",{pokemon:e.data,column:e.colDef.field,event:e})},onRowClicked(e){this.$emit("row-clicked",{pokemon:e.data,event:e})},onRowDoubleClicked(e){this.openPokemonModal(e.data),this.$emit("row-double-clicked",{pokemon:e.data,event:e})},onCellDoubleClicked(e){"caught"!==e.colDef.field&&"actions"!==e.colDef.field&&this.openPokemonModal(e.data)},onSelectionChanged(e){this.selectedRows=e.api.getSelectedRows(),this.$emit("selection-changed",{selectedPokemons:this.selectedRows,count:this.selectedRows.length})},onSortChanged(e){const t=e.api.getSortModel();this.$emit("sort-changed",t)},onFilterChanged(e){const t=e.api.getFilterModel();this.$emit("filter-changed",t)},onPaginationChanged(e){const t=e.api.paginationGetCurrentPage(),o=e.api.paginationGetTotalPages();this.$emit("pagination-changed",{currentPage:t+1,totalPages:o,pageSize:this.pageSize})},onPageSizeChanged(){this.$refs.agGrid&&this.$refs.agGrid.api&&this.$refs.agGrid.api.paginationSetPageSize(Number(this.pageSize))},markSelectedAsCaught(){this.selectedRows.forEach((e=>{this.$emit("toggle-caught",e)})),this.clearSelection()},markSelectedAsNotCaught(){this.selectedRows.forEach((e=>{this.isCaught(e.id)&&this.$emit("toggle-caught",e)})),this.clearSelection()},exportSelected(){const e=this.generateCSV(this.selectedRows);this.downloadCSV(e,"pokemon-seleccionados.csv")},clearSelection(){this.$refs.agGrid&&this.$refs.agGrid.api&&this.$refs.agGrid.api.deselectAll()},getContextMenuItems(e){const t=e.node.data,o=this.isCaught(t.id),a=this.selectedRows.some((e=>e.id===t.id)),s=[{name:`Ver detalles de ${t.name}`,action:()=>this.openPokemonModal(t),icon:"<span>👁️</span>"},"separator",{name:o?"Marcar como no atrapado":"Marcar como atrapado",action:()=>this.$emit("toggle-caught",t),icon:o?"<span>⚪</span>":"<span>🔴</span>"}];return a&&s.push({name:"Deseleccionar",action:()=>this.deselectPokemon(t),icon:"<span>❌</span>"}),s.push("separator",{name:"Copiar nombre",action:()=>navigator.clipboard.writeText(t.name),icon:"<span>📋</span>"},{name:"Copiar ID",action:()=>navigator.clipboard.writeText(t.id.toString()),icon:"<span>📋</span>"},"separator","export"),s},isCaught(e){return this.caughtPokemons.has(e)},getFallbackImage(e){return`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${e}.png`},getTypeColor(e){const t={normal:"#A8A878",fire:"#F08030",water:"#6890F0",electric:"#F8D030",grass:"#78C850",ice:"#98D8D8",fighting:"#C03028",poison:"#A040A0",ground:"#E0C068",flying:"#A890F0",psychic:"#F85888",bug:"#A8B820",rock:"#B8A038",ghost:"#705898",dragon:"#7038F8",dark:"#705848",steel:"#B8B8D0",fairy:"#EE99AC"};return t[e]||"#68A090"},generateCSV(e){const t=["ID","Nombre","Tipos","Generación","Atrapado"],o=e.map((e=>[e.id,e.name,e.types?e.types.join(", "):"",e.generationShort||"",this.isCaught(e.id)?"Sí":"No"]));return[t,...o].map((e=>e.map((e=>`"${e}"`)).join(","))).join("\n")},downloadCSV(e,t){const o=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(o);a.setAttribute("href",s),a.setAttribute("download",t),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},se=o(1241);const ne=(0,se.A)(ae,[["render",te],["__scopeId","data-v-17947933"]]);var ie=ne;const le={class:"modal-header"},re={class:"pokemon-basic-info"},ce={class:"pokemon-id"},de={class:"modal-title"},pe={class:"types-compact"},ue={class:"pokemon-image-section"},he={class:"pokemon-image-container"},me=["src","alt"],ge=["title"],ke={class:"pokeball"},ve={class:"modal-body"},fe={class:"pokemon-info-compact"},Ce={class:"info-row"},ye={class:"info-item"},be={class:"info-text"},Pe={class:"info-item"},we={class:"info-text"},Le={class:"info-item"},Se={class:"info-text"},Ee={key:0,class:"description-compact"},xe={class:"pokemon-description"},De={class:"stats-section-compact"},Te={class:"stats-grid-compact"},Fe={class:"stat-header"},Ae={class:"stat-name-short"},Ie={class:"stat-value"},Me={class:"stat-bar-mini"},_e={class:"stats-total-compact"},Ge={key:1,class:"evolution-section-compact"},$e={class:"evolution-chain-compact"},Ne=["onClick"],Re=["src","alt"],Ve={class:"evolution-name-mini"},Ue={key:0,class:"evolution-arrow-mini"},Oe={class:"evolution-mini current"},Be=["src","alt"],Xe={class:"evolution-name-mini"},je={key:1,class:"evolution-arrow-mini"},ze=["onClick"],Qe=["src","alt"],Ke={class:"evolution-name-mini"};function We(e,t,o,i,l,r){return(0,s.uX)(),(0,s.Wv)(a.eB,{name:"modal-fade"},{default:(0,s.k6)((()=>[o.visible?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[4]||(t[4]=(0,a.D$)((t=>e.$emit("close")),["self"]))},[(0,s.Lk)("div",{class:"modal-content",onClick:t[3]||(t[3]=(0,a.D$)((()=>{}),["stop"]))},[(0,s.Lk)("button",{class:"close-btn",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[5]||(t[5]=[(0,s.Lk)("span",null,"✕",-1)])),(0,s.Lk)("div",le,[(0,s.Lk)("div",re,[(0,s.Lk)("div",ce,"#"+(0,n.v_)(String(o.pokemon?.id).padStart(3,"0")),1),(0,s.Lk)("h2",de,(0,n.v_)(o.pokemon?.name),1),(0,s.Lk)("div",pe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.pokemon?.types,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e,class:"type-badge-compact",style:(0,n.Tr)({backgroundColor:r.getTypeColor(e)})},(0,n.v_)(e),5)))),128))])]),(0,s.Lk)("div",ue,[(0,s.Lk)("div",he,[(0,s.Lk)("img",{src:r.getPokemonImageUrl(o.pokemon),alt:o.pokemon?.name,class:"modal-img",onLoad:t[1]||(t[1]=(...e)=>r.onImageLoad&&r.onImageLoad(...e))},null,40,me)]),(0,s.Lk)("button",{onClick:t[2]||(t[2]=t=>e.$emit("toggle-caught",o.pokemon)),class:(0,n.C4)(["catch-btn",{caught:o.isCaught}]),title:o.isCaught?"Liberar Pokémon":"Atrapar Pokémon"},[(0,s.Lk)("span",ke,(0,n.v_)(o.isCaught?"🔴":"⚪"),1),(0,s.eW)(" "+(0,n.v_)(o.isCaught?"Atrapado":"Atrapar"),1)],10,ge)])]),(0,s.Lk)("div",ve,[(0,s.Lk)("div",fe,[(0,s.Lk)("div",Ce,[(0,s.Lk)("div",ye,[t[6]||(t[6]=(0,s.Lk)("span",{class:"info-icon"},"📏",-1)),(0,s.Lk)("span",be,(0,n.v_)((o.pokemon?.height/10).toFixed(1))+"m",1)]),(0,s.Lk)("div",Pe,[t[7]||(t[7]=(0,s.Lk)("span",{class:"info-icon"},"⚖️",-1)),(0,s.Lk)("span",we,(0,n.v_)((o.pokemon?.weight/10).toFixed(1))+"kg",1)]),(0,s.Lk)("div",Le,[t[8]||(t[8]=(0,s.Lk)("span",{class:"info-icon"},"🌍",-1)),(0,s.Lk)("span",Se,(0,n.v_)(o.pokemon?.generation||"Desconocida"),1)])])]),o.description?((0,s.uX)(),(0,s.CE)("div",Ee,[(0,s.Lk)("p",xe,(0,n.v_)(o.description),1)])):(0,s.Q3)("",!0),(0,s.Lk)("div",De,[t[9]||(t[9]=(0,s.Lk)("h4",{class:"section-title"},"Estadísticas Base",-1)),(0,s.Lk)("div",Te,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.pokemon?.stats,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.stat.name,class:"stat-compact"},[(0,s.Lk)("div",Fe,[(0,s.Lk)("span",Ae,(0,n.v_)(r.getStatShortName(e.stat.name)),1),(0,s.Lk)("span",Ie,(0,n.v_)(e.base_stat),1)]),(0,s.Lk)("div",Me,[(0,s.Lk)("div",{class:"stat-fill",style:(0,n.Tr)({width:Math.min(e.base_stat/255*100,100)+"%",backgroundColor:r.getStatColor(e.base_stat)})},null,4)])])))),128))]),(0,s.Lk)("div",_e,[(0,s.Lk)("strong",null,"Total: "+(0,n.v_)(r.getTotalStats(o.pokemon?.stats)),1)])]),o.preEvolutions.length||o.evolutions.length?((0,s.uX)(),(0,s.CE)("div",Ge,[t[10]||(t[10]=(0,s.Lk)("h4",{class:"section-title"},"Evoluciones",-1)),(0,s.Lk)("div",$e,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.preEvolutions,(t=>((0,s.uX)(),(0,s.CE)("div",{class:"evolution-mini",key:t.name,onClick:o=>e.$emit("select-pokemon",t.name)},[(0,s.Lk)("img",{src:r.getEvolutionImage(t.name),alt:t.name,class:"evolution-img-mini"},null,8,Re),(0,s.Lk)("span",Ve,(0,n.v_)(t.name),1)],8,Ne)))),128)),o.preEvolutions.length?((0,s.uX)(),(0,s.CE)("div",Ue,"→")):(0,s.Q3)("",!0),(0,s.Lk)("div",Oe,[(0,s.Lk)("img",{src:r.getPokemonImageUrl(o.pokemon),alt:o.pokemon?.name,class:"evolution-img-mini"},null,8,Be),(0,s.Lk)("span",Xe,(0,n.v_)(o.pokemon?.name),1)]),o.evolutions.length?((0,s.uX)(),(0,s.CE)("div",je,"→")):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.evolutions,(t=>((0,s.uX)(),(0,s.CE)("div",{class:"evolution-mini",key:t.name,onClick:o=>e.$emit("select-pokemon",t.name)},[(0,s.Lk)("img",{src:r.getEvolutionImage(t.name),alt:t.name,class:"evolution-img-mini"},null,8,Qe),(0,s.Lk)("span",Ke,(0,n.v_)(t.name),1)],8,ze)))),128))])])):(0,s.Q3)("",!0)])])])):(0,s.Q3)("",!0)])),_:1})}o(8237);var He={name:"PokemonModal",props:{visible:{type:Boolean,default:!1},pokemon:{type:Object,default:null},isCaught:{type:Boolean,default:!1},description:{type:String,default:""},preEvolutions:{type:Array,default:()=>[]},evolutions:{type:Array,default:()=>[]},allPokemons:{type:Array,default:()=>[]}},emits:["close","toggle-caught","select-pokemon"],methods:{getPokemonImageUrl(e){return e?.image||""},onImageLoad(e){e.target.classList.add("loaded")},getEvolutionImage(e){const t=this.allPokemons.find((t=>t.name===e));return t?t.image:`https://img.pokemondb.net/artwork/large/${e}.jpg`},getTypeColor(e){const t={normal:"#A8A878",fire:"#F08030",water:"#6890F0",electric:"#F8D030",grass:"#78C850",ice:"#98D8D8",fighting:"#C03028",poison:"#A040A0",ground:"#E0C068",flying:"#A890F0",psychic:"#F85888",bug:"#A8B820",rock:"#B8A038",ghost:"#705898",dragon:"#7038F8",dark:"#705848",steel:"#B8B8D0",fairy:"#EE99AC"};return t[e]||"#68A090"},getStatColor(e){return e>=120?"#4CAF50":e>=90?"#8BC34A":e>=60?"#FFC107":e>=30?"#FF9800":"#F44336"},getStatShortName(e){const t={hp:"HP",attack:"ATK",defense:"DEF","special-attack":"SpA","special-defense":"SpD",speed:"SPD"};return t[e]||e},getTotalStats(e){return e?e.reduce(((e,t)=>e+t.base_stat),0):0}}};const qe=(0,se.A)(He,[["render",We],["__scopeId","data-v-c8d10108"]]);var Je=qe,Ye={name:"PokedexView",components:{PokedexGrid:ie,PokemonModal:Je},props:{searchQuery:{type:String,default:""},isDarkMode:{type:Boolean,default:!1}},data(){return{pokemons:[],filteredPokemons:[],showModal:!1,selectedPokemon:null,loading:!0,caughtPokemons:new Set,STORAGE_KEY:"pokedex_caught_pokemon"}},watch:{searchQuery:{handler:"onFilterTextChanged",immediate:!0}},created(){this.loadUserData()},mounted(){this.fetchPokemons()},methods:{async fetchPokemons(){try{this.loading=!0;const e=50,t=721,o=Math.ceil(t/e);for(let a=0;a<o;a++){const o=a*e+1,s=Math.min((a+1)*e,t),n=[];for(let e=o;e<=s;e++)n.push(fetch(`https://pokeapi.co/api/v2/pokemon/${e}`).then((e=>e.json())).catch((t=>(console.error(`Error fetching pokemon ${e}:`,t),null))));const i=await Promise.all(n),l=i.filter((e=>null!==e)).map((e=>({id:e.id,name:e.name,types:e.types.map((e=>e.type.name)),typesFormatted:e.types.map((e=>e.type.name)).join(", "),image:e.sprites.other["official-artwork"].front_default||e.sprites.front_default,generation:this.getGeneration(e.id),generationShort:this.getGenerationShort(e.id),stats:e.stats,height:e.height,weight:e.weight,caught:this.isCaught(e.id)})));this.pokemons.push(...l),this.filteredPokemons=[...this.pokemons]}this.emitStats()}catch(e){console.error("Error fetching pokemons:",e)}finally{this.loading=!1}},onFilterTextChanged(){const e=this.searchQuery.toLowerCase();this.filteredPokemons=this.pokemons.filter((t=>t.name.toLowerCase().includes(e)||t.types.some((t=>t.toLowerCase().includes(e))))),this.emitStats()},async showPokemonDetails(e){console.log("[DEBUG] showPokemonDetails (desde padre) con:",e),this.selectedPokemon={...e};try{const t=await fetch(`https://pokeapi.co/api/v2/pokemon-species/${e.id}`),o=await t.json(),a=o.flavor_text_entries.find((e=>"es"===e.language.name))||o.flavor_text_entries.find((e=>"en"===e.language.name));if(this.selectedPokemon.description=a?a.flavor_text.replace(/\n|\f/g," "):"Sin descripción",this.selectedPokemon.habitat=o.habitat?o.habitat.name:"Desconocido",o.evolution_chain&&o.evolution_chain.url){const t=await fetch(o.evolution_chain.url),a=await t.json(),s=await this.extractEvolutions(a.chain,e.name);this.selectedPokemon.preEvolutions=s.preEvolutions,this.selectedPokemon.evolutions=s.evolutions}}catch(t){console.error("Error fetching details:",t),this.selectedPokemon.description="Error al cargar descripción",this.selectedPokemon.habitat="Desconocido",this.selectedPokemon.preEvolutions=[],this.selectedPokemon.evolutions=[]}this.showModal=!0,console.log("[DEBUG] showModal ===",this.showModal)},closeModal(){this.showModal=!1,this.selectedPokemon=null},selectPokemonByName(e){const t=this.pokemons.find((t=>t.name===e));t&&this.showPokemonDetails(t)},async extractEvolutions(e,t){const o=[],a=[],s=async(e,n)=>{if(e.species.name===t&&n){const e=await this.getPokemonByName(n);e&&a.push({name:n,id:e.id})}for(const a of e.evolves_to){if(e.species.name===t){const e=await this.getPokemonByName(a.species.name);e&&o.push({name:a.species.name,id:e.id})}await s(a,e.species.name)}};return await s(e,null),{preEvolutions:a,evolutions:o}},async getPokemonByName(e){try{const t=await fetch(`https://pokeapi.co/api/v2/pokemon/${e}`);return await t.json()}catch(t){return console.error(`Error fetching pokemon ${e}:`,t),null}},toggleCaught(e){this.isCaught(e.id)?this.caughtPokemons.delete(e.id):this.caughtPokemons.add(e.id),this.saveUserData(),this.updatePokemonCaughtStatus(),this.emitStats()},isCaught(e){return this.caughtPokemons.has(e)},updatePokemonCaughtStatus(){this.pokemons.forEach((e=>{e.caught=this.isCaught(e.id)})),this.filteredPokemons.forEach((e=>{e.caught=this.isCaught(e.id)})),this.$nextTick((()=>{this.onFilterTextChanged()}))},getGeneration(e){return e<=151?"Kanto (Gen I)":e<=251?"Johto (Gen II)":e<=386?"Hoenn (Gen III)":e<=493?"Sinnoh (Gen IV)":e<=649?"Unova (Gen V)":e<=721?"Kalos (Gen VI)":e<=809?"Alola (Gen VII)":e<=905?"Galar (Gen VIII)":e<=1010?"Paldea (Gen IX)":"Desconocida"},getGenerationShort(e){return e<=151?"I":e<=251?"II":e<=386?"III":e<=493?"IV":e<=649?"V":e<=721?"VI":e<=809?"VII":e<=905?"VIII":e<=1010?"IX":"?"},getTopCaughtTypes(){const e={};return this.pokemons.filter((e=>this.isCaught(e.id))).forEach((t=>{t.types.forEach((t=>{e[t]=(e[t]||0)+1}))})),Object.fromEntries(Object.entries(e).sort((([,e],[,t])=>t-e)).slice(0,5))},saveUserData(){try{const e={caughtPokemons:Array.from(this.caughtPokemons),lastUpdated:(new Date).toISOString()};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)),console.log("Datos guardados en localStorage:",e.caughtPokemons.length,"pokémon atrapados")}catch(e){console.error("Error al guardar datos en localStorage:",e),this.$emit("storage-error","No se pudieron guardar los datos. Revisa el almacenamiento del navegador.")}},loadUserData(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e){const t=JSON.parse(e);if(t.caughtPokemons&&Array.isArray(t.caughtPokemons)&&(this.caughtPokemons=new Set(t.caughtPokemons),console.log("Datos cargados desde localStorage:",t.caughtPokemons.length,"pokémon atrapados"),t.lastUpdated)){const e=new Date(t.lastUpdated);console.log("Última actualización:",e.toLocaleString())}}else console.log("No se encontraron datos guardados, empezando desde cero")}catch(e){console.error("Error al cargar datos desde localStorage:",e),this.caughtPokemons=new Set,this.$emit("storage-error","No se pudieron cargar los datos guardados.")}},clearAllCaught(){this.caughtPokemons.clear(),this.saveUserData(),this.updatePokemonCaughtStatus(),this.emitStats()},exportCaughtData(){try{const e={caughtPokemons:Array.from(this.caughtPokemons),exportDate:(new Date).toISOString(),totalCaught:this.caughtPokemons.size},t=JSON.stringify(e,null,2),o=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(o),s=document.createElement("a");s.href=a,s.download=`pokedex_datos_atrapados_${(new Date).toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(a)}catch(e){console.error("Error al exportar datos:",e)}},importCaughtData(e){return new Promise(((t,o)=>{const a=new FileReader;a.onload=e=>{try{const a=JSON.parse(e.target.result);a.caughtPokemons&&Array.isArray(a.caughtPokemons)?(this.caughtPokemons=new Set(a.caughtPokemons),this.saveUserData(),this.updatePokemonCaughtStatus(),this.emitStats(),t(a.caughtPokemons.length)):o(new Error("Formato de archivo inválido"))}catch(a){o(a)}},a.onerror=()=>o(new Error("Error al leer el archivo")),a.readAsText(e)}))},exportToCSV(){const e=["ID","Nombre","Tipos","Región","Altura (m)","Peso (kg)","Atrapado"],t=[e];this.filteredPokemons.forEach((e=>{t.push([e.id,e.name,e.types.join(", "),e.generation,(e.height/10).toFixed(1),(e.weight/10).toFixed(1),this.isCaught(e.id)?"Sí":"No"])}));const o=t.map((e=>e.join(","))).join("\n"),a=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),n=URL.createObjectURL(a);s.setAttribute("href",n),s.setAttribute("download",`pokedex_filtrado_${(new Date).toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},emitStats(){const e={totalPokemons:this.pokemons.length,filteredCount:this.filteredPokemons.length,caughtCount:this.caughtPokemons.size,topCaughtTypes:this.getTopCaughtTypes(),canExport:this.filteredPokemons.length>0};this.$emit("update-stats",e)}}};const Ze=(0,se.A)(Ye,[["render",I],["__scopeId","data-v-64c2cf6a"]]);var et=Ze,tt={name:"App",components:{PokedexView:et},data(){return{isDarkMode:!1,showStats:!1,searchQuery:"",totalPokemons:0,filteredCount:0,caughtCount:0,topCaughtTypes:{},canExport:!1,userDataCache:null,exportMessage:"",exportMessageType:"",exportTimeout:null}},computed:{caughtPercentage(){return this.totalPokemons>0?(this.caughtCount/this.totalPokemons*100).toFixed(1):0}},created(){this.loadUserData()},methods:{toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.saveUserData()},onSearchChange(){this.$nextTick((()=>{this.updateSearch()}))},updateSearch(){},updateStats(e){this.totalPokemons=e.totalPokemons||0,this.filteredCount=e.filteredCount||0,this.caughtCount=e.caughtCount||0,this.topCaughtTypes=e.topCaughtTypes||{},this.canExport=e.canExport||!1},exportToCSV(){if(console.log("Iniciando exportación CSV..."),!this.$refs.pokedexView)return console.error("Componente PokedexView no encontrado"),void this.showExportMessage("Error: Componente no encontrado","error");if(0!==this.caughtCount)try{const e=this.$refs.pokedexView.requestExport();if(!1===e)return void this.showExportMessage("No hay datos para exportar","warning");console.log("Solicitud de exportación enviada")}catch(e){console.error("Error al solicitar exportación:",e),this.showExportMessage("Error al procesar la exportación","error")}else this.showExportMessage("No hay Pokémon atrapados para exportar","warning")},handleExportCSV(e){if(console.log("Datos recibidos para exportar:",e),e&&0!==e.length)try{const t=["ID","Nombre","Tipos","Altura (m)","Peso (kg)","Habilidades","HP","Ataque","Defensa","Ataque Especial","Defensa Especial","Velocidad"],o=e.map((e=>{const t=e.stats||[],o=e=>{const o=t.find((t=>t.name&&t.name.toLowerCase().includes(e.toLowerCase())));return o?o.value:"0"};return[e.id||"",`"${e.name||""}"`,`"${(e.types||[]).join(", ")}"`,(e.height||0)/10,(e.weight||0)/10,`"${(e.abilities||[]).join(", ")}"`,o("hp"),o("attack"),o("defense"),o("special-attack"),o("special-defense"),o("speed")].join(",")})),a=[t.join(","),...o].join("\n");this.downloadCSV(a,e.length)}catch(t){console.error("Error al crear CSV:",t),this.showExportMessage("Error al crear el archivo CSV","error")}else this.showExportMessage("No hay Pokémon atrapados para exportar","warning")},downloadCSV(e,t){try{const o="\ufeff",a=new Blob([o+e],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(a),n=document.createElement("a"),i=new Date,l=i.toISOString().split("T")[0],r=`pokemon_atrapados_${l}.csv`;n.setAttribute("href",s),n.setAttribute("download",r),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout((()=>{URL.revokeObjectURL(s)}),100),this.showExportMessage(`¡Éxito! Se exportaron ${t} Pokémon atrapados`,"success"),console.log(`CSV descargado exitosamente: ${r}`)}catch(o){console.error("Error en la descarga:",o),this.showExportMessage("Error al descargar el archivo","error")}},handleExportError(e){console.error("Error de exportación:",e),this.showExportMessage(e||"Error en la exportación","error")},showExportMessage(e,t){this.exportMessage=e,this.exportMessageType=t,this.exportTimeout&&clearTimeout(this.exportTimeout),this.exportTimeout=setTimeout((()=>{this.exportMessage="",this.exportMessageType=""}),4e3)},getTypeColor(e){const t={normal:"#A8A878",fire:"#F08030",water:"#6890F0",electric:"#F8D030",grass:"#78C850",ice:"#98D8D8",fighting:"#C03028",poison:"#A040A0",ground:"#E0C068",flying:"#A890F0",psychic:"#F85888",bug:"#A8B820",rock:"#B8A038",ghost:"#705898",dragon:"#7038F8",dark:"#705848",steel:"#B8B8D0",fairy:"#EE99AC"};return t[e]||"#68A090"},saveUserData(){const e={isDarkMode:this.isDarkMode};this.userDataCache=e},loadUserData(){const e=this.userDataCache||{};this.isDarkMode=e.isDarkMode||!1}},beforeUnmount(){this.exportTimeout&&clearTimeout(this.exportTimeout)}};const ot=(0,se.A)(tt,[["render",F],["__scopeId","data-v-03023ad1"]]);var at=ot;(0,a.Ef)(at).mount("#app")}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,a,s,n){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],n=e[d][2];for(var l=!0,r=0;r<a.length;r++)(!1&n||i>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[r])}))?a.splice(r--,1):(l=!1,n<i&&(i=n));if(l){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,n,i=a[0],l=a[1],r=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(r)var d=r(o)}for(t&&t(a);c<i.length;c++)n=i[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},a=self["webpackChunkpokedex_version_2"]=self["webpackChunkpokedex_version_2"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(8696)}));a=o.O(a)})();
//# sourceMappingURL=app.62fd617b.js.map